{
  "$schema": "../../../schema/m3-room.schema.json",
  "id": 106,
  "name": "Ice Beam Gate Room",
  "area": "Norfair",
  "subarea": "Upper",
  "subsubarea": "West",
  "playable": true,
  "roomAddress": "0x7A815",
  "roomEnvironments": [{"heated": false}],
  "nodes": [
    {
      "id": 1,
      "name": "Ice Beam Gate Room Top Left Door (to Ice Tutorial)",
      "nodeType": "door",
      "nodeSubType": "blue",
      "nodeAddress": "0x0019312",
      "doorEnvironments": [{"physics": "air"}],
      "spawnAt": 6,
      "note": "Samus is considered to spawn at 6 because of the crumble blocks"
    },
    {
      "id": 2,
      "name": "Ice Beam Gate Room Center Left Door (to Ice Beam Acid Room)",
      "nodeType": "door",
      "nodeSubType": "blue",
      "nodeAddress": "0x001931e",
      "doorEnvironments": [{"physics": "air"}]
    },
    {
      "id": 3,
      "name": "Ice Beam Gate Room Bottom Left Door (to Crumble Shaft)",
      "nodeType": "door",
      "nodeSubType": "blue",
      "nodeAddress": "0x0019336",
      "doorEnvironments": [{"physics": "air"}]
    },
    {
      "id": 4,
      "name": "Ice Beam Gate Room Right Door (to Business Center)",
      "nodeType": "door",
      "nodeSubType": "blue",
      "nodeAddress": "0x001932a",
      "doorEnvironments": [{"physics": "air"}]
    },
    {
      "id": 5,
      "name": "Ice Beam Gate Room Junction (Below Top Crumbles)",
      "nodeType": "junction",
      "nodeSubType": "junction"
    },
    {
      "id": 6,
      "name": "Ice Beam Gate Room Junction (Above Crumbles)",
      "nodeType": "junction",
      "nodeSubType": "junction"
    }
  ],
  "obstacles": [
    {
      "id": "A",
      "name": "Ceiling bomb blocks",
      "obstacleType": "inanimate"
    },
    {
      "id": "B",
      "name": "Morph path bomb blocks",
      "obstacleType": "inanimate"
    },
    {
      "id": "C",
      "name": "Power Bomb blocks",
      "obstacleType": "inanimate"
    }
  ],
  "enemies": [
    {
      "id": "e1",
      "groupName": "Ice Beam Gate Room Sova",
      "enemyName": "Sova",
      "quantity": 1,
      "homeNodes": [5]
    },
    {
      "id": "e2",
      "groupName": "Ice Beam Gate Room Small Dessgeegas",
      "enemyName": "Sm. Dessgeega",
      "quantity": 3,
      "homeNodes": [3]
    },
    {
      "id": "e3",
      "groupName": "Ice Beam Gate Room Mellas",
      "enemyName": "Mella",
      "quantity": 6,
      "homeNodes": [3]
    }
  ],
  "links": [
    {
      "from": 1,
      "to": [
        {"id": 1},
        {"id": 6}
      ]
    },
    {
      "from": 2,
      "to": [
        {"id": 1},
        {"id": 2},
        {"id": 3},
        {"id": 4},
        {"id": 5}
      ]
    },
    {
      "from": 3,
      "to": [
        {"id": 2},
        {"id": 3}
      ]
    },
    {
      "from": 4,
      "to": [
        {"id": 2},
        {"id": 4}
      ]
    },
    {
      "from": 5,
      "to": [
        {"id": 2},
        {"id": 4}
      ]
    },
    {
      "from": 6,
      "to": [
        {"id": 1},
        {"id": 5}
      ]
    }
  ],
  "strats": [
    {
      "link": [1, 1],
      "name": "Leave with Runway",
      "notable": false,
      "requires": [],
      "exitCondition": {
        "leaveWithRunway": {
          "length": 1,
          "openEnd": 1
        }
      }
    },
    {
      "link": [1, 1],
      "name": "Crystal Flash",
      "requires": ["h_canCrystalFlash"]
    },
    {
      "link": [1, 6],
      "name": "Base",
      "notable": false,
      "requires": []
    },
    {
      "link": [2, 1],
      "name": "Ice Beam Gate Room X-Ray Climb",
      "notable": false,
      "entranceCondition": {
        "comeInWithDoorStuckSetup": {}
      },
      "requires": [
        "canXRayClimb"
      ],
      "note": "Climb up 2 screens."
    },
    {
      "link": [2, 1],
      "name": "Very Deep Stuck X-Ray Climb",
      "notable": false,
      "entranceCondition": {
        "comeInWithGMode": {
          "mode": "direct",
          "morphed": false
        }
      },
      "requires": [
        "canXRayClimb"
      ],
      "bypassesDoorShell": true,
      "note": [
        "Enter with G-mode direct, back up to between 1 and 6 pixels from the door transition, and activate X-ray to get very deep stuck in the door.",
        "Climb up 2 screens, and perform a turnaround buffered spin-jump away from the door to trigger the transition, bypassing any lock on the door."
      ]
    },    
    {
      "link": [2, 2],
      "name": "Leave with Runway",
      "notable": false,
      "requires": [
        {"obstaclesNotCleared": ["C"]}
      ],
      "exitCondition": {
        "leaveWithRunway": {
          "length": 15,
          "openEnd": 0
        }
      },
      "devNote": "FIXME: It is possible to run through the room and leave with runway with a longer runway by antitapping to avoid gaining Blue, and shooting the door open with precise timing."
    },
    {
      "link": [2, 2],
      "name": "Leave with Runway Floor Blocks Destroyed",
      "notable": false,
      "requires": [],
      "exitCondition": {
        "leaveWithRunway": {
          "length": 6,
          "openEnd": 1
        }
      }
    },
    {
      "link": [2, 2],
      "name": "Power Bomb the Blocks",
      "notable": false,
      "requires": [
        "h_canUsePowerBombs"
      ],
      "clearsObstacles": ["A", "B", "C"]
    },
    {
      "link": [2, 2],
      "name": "Crystal Flash",
      "requires": ["h_canCrystalFlash"],
      "clearsObstacles": ["A", "B", "C"]
    },
    {
      "link": [2, 3],
      "name": "Tank Enemy Damage",
      "notable": false,
      "requires": [
        {"obstaclesCleared": ["C"]},
        {"enemyDamage": {
          "enemy": "Mella",
          "type": "contact",
          "hits": 1
        }},
        {"enemyDamage": {
          "enemy": "Sm. Dessgeega",
          "type": "contact",
          "hits": 1
        }}
      ]
    },
    {
      "link": [2, 3],
      "name": "Kill Enemies",
      "notable": false,
      "requires": [
        {"obstaclesCleared": ["C"]},
        {"or": [
          "Spazer",
          "Plasma",
          "ScrewAttack",
          "Wave",
          {"and": [
            "canDodgeWhileShooting",
            "h_canUsePowerBombs"
          ]},
          {"and": [
            "canDodgeWhileShooting",
            "canTrickyJump"
          ]}
        ]}
      ],
      "devNote": "Dessgeegas will drop Power Bombs so you can use multiple while getting most of them back."
    },
    {
      "link": [2, 3],
      "name": "Shortcharge",
      "notable": false,
      "requires": [
        {"obstaclesCleared": ["C"]},
        {"canShineCharge": {
          "usedTiles": 18,
          "openEnd": 0,
          "gentleDownTiles": 3,
          "gentleUpTiles": 2
        }}
      ]
    },
    {
      "link": [2, 4],
      "name": "Mockball",
      "notable": false,
      "entranceCondition": {
        "comeInRunning": {
          "minTiles": 11,
          "speedBooster": "any"
        }
      },
      "requires": [
        "canMockball"
      ],
      "devNote": "FIXME Mockballing from the next room can also be done with smaller runways (like in the vanilla strat). See issue #63."
    },
    {
      "link": [2, 5],
      "name": "Base",
      "notable": false,
      "requires": [
        {"or": [
          "h_canUseMorphBombs",
          "ScrewAttack",
          {"obstaclesCleared": ["A"]}
        ]}
      ],
      "clearsObstacles": ["A"]
    },
    {
      "link": [2, 5],
      "name": "Power Bomb",
      "notable": false,
      "requires": [
        "h_canUsePowerBombs"
      ],
      "clearsObstacles": ["A", "B", "C"]
    },
    {
      "link": [3, 2],
      "name": "Base",
      "notable": false,
      "requires": [
        {"or": [
          "Spazer",
          "Plasma",
          "ScrewAttack",
          "Wave",
          {"and": [
            "canDodgeWhileShooting",
            "h_canUsePowerBombs"
          ]},
          {"and": [
            "canDodgeWhileShooting",
            "canTrickyJump"
          ]}
        ]},
        {"or": [
          "h_canUsePowerBombs",
          {"obstaclesCleared": ["C"]}
        ]}
      ],
      "clearsObstacles": ["A", "B", "C"],
      "note": [
        "Avoiding damage from all enemies with just Power Beam is tricky, but doable.",
        "Placing the Power Bomb high can break the bomb blocks in the morph tunnel above."
      ]
    },
    {
      "link": [3, 2],
      "name": "Come in Shinecharging",
      "notable": false,
      "entranceCondition": {
        "comeInShinecharging": {
          "length": 6,
          "openEnd": 0,
          "steepDownTiles": 2
        }
      },
      "requires": [
        "h_canUsePowerBombs"
      ],
      "clearsObstacles": ["A", "B", "C"],
      "note": [
        "Placing the Power Bomb high can break the bomb blocks in the morph tunnel above."
      ]
    },
    {
      "link": [3, 3],
      "name": "Leave with Runway",
      "notable": false,
      "requires": [
        {"or": [
          "Spazer",
          "Plasma",
          "ScrewAttack",
          "Wave",
          {"and": [
            "canDodgeWhileShooting",
            "h_canUsePowerBombs"
          ]},
          {"and": [
            "canDodgeWhileShooting",
            "canTrickyJump"
          ]}
        ]}
      ],
      "exitCondition": {
        "leaveWithRunway": {
          "length": 45,
          "openEnd": 1
        }
      }
    },
    {
      "link": [3, 3],
      "name": "Sova, Mella, and Sm. Dessgeega Farm",
      "notable": false,
      "requires": [
        {"or": [
          "ScrewAttack",
          "Wave",
          "Spazer",
          "Plasma"
        ]},
        {"refill": ["Energy", "Missile", "Super", "PowerBomb"]}
      ]
    },
    {
      "link": [3, 3],
      "name": "Crystal Flash",
      "requires": [
        {"enemyKill": {
          "enemies": [["Sm. Dessgeega"]],
          "explicitWeapons": [
            "Missile",
            "Super",
            "PowerBomb",
            "ScrewAttack",
            "Wave",
            "Spazer",
            "Plasma"
          ]
        }},
        "h_canCrystalFlash"
      ],
      "clearsObstacles": ["C"]
    },
    {
      "link": [4, 2],
      "name": "Speed Through",
      "notable": false,
      "requires": [
        "SpeedBooster"
      ]
    },
    {
      "link": [4, 2],
      "name": "Speed Through and Leave Shinecharged",
      "notable": false,
      "requires": [
        {"canShineCharge": {
          "usedTiles": 33,
          "openEnd": 2
        }}
      ],
      "exitCondition": {
        "leaveShinecharged": {
          "framesRemaining": 130
        }
      },
      "note": "Store the Shinespark after the second shutter to avoid breaking the Bomb Blocks in the floor."
    },
    {
      "link": [4, 2],
      "name": "Ice Beam Mockball",
      "notable": false,
      "requires": [
        "canMockball"
      ]
    },
    {
      "link": [4, 4],
      "name": "Leave with Runway",
      "notable": false,
      "requires": [],
      "exitCondition": {
        "leaveWithRunway": {
          "length": 14,
          "openEnd": 0
        }
      }
    },
    {
      "link": [4, 4],
      "name": "Crystal Flash",
      "requires": ["h_canCrystalFlash"]
    },
    {
      "link": [5, 2],
      "name": "Screw or Bombs",
      "notable": false,
      "requires": [
        {"or": [
          "h_canUseMorphBombs",
          "ScrewAttack",
          {"obstaclesCleared": ["A"]}
        ]}
      ],
      "clearsObstacles": ["A"]
    },
    {
      "link": [5, 2],
      "name": "Power Bomb",
      "notable": false,
      "requires": [
        "h_canUsePowerBombs"
      ],
      "clearsObstacles": ["A", "B", "C"]
    },
    {
      "link": [5, 4],
      "name": "Base",
      "notable": false,
      "requires": [
        {"or": [
          "h_canUseMorphBombs",
          {"obstaclesCleared": ["B"]}
        ]}
      ],
      "clearsObstacles": ["B"]
    },
    {
      "link": [5, 4],
      "name": "Power Bombs",
      "notable": false,
      "requires": [
        "h_canUsePowerBombs"
      ],
      "clearsObstacles": ["A", "B", "C"]
    },
    {
      "link": [6, 1],
      "name": "Space Jump Retreat",
      "notable": false,
      "requires": [
        "canPrepareForNextRoom",
        "SpaceJump"
      ]
    },
    {
      "link": [6, 1],
      "name": "WallJump Retreat",
      "notable": false,
      "requires": [
        "canPrepareForNextRoom",
        "canWalljump"
      ]
    },
    {
      "link": [6, 1],
      "name": "Crumble Jump Retreat",
      "notable": false,
      "requires": [
        "canCrumbleJump"
      ]
    },
    {
      "link": [6, 1],
      "name": "SpringBall Retreat",
      "notable": false,
      "requires": [
        "h_canUseSpringBall"
      ],
      "note": "Use SpringBall to bounce on the crumble blocks, the unmorph and shoot the door open."
    },
    {
      "link": [6, 5],
      "name": "Base",
      "notable": false,
      "requires": []
    }
  ]
}