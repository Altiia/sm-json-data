{
  "$schema": "../../schema/m3-bossScenarios.schema.json",
  "scenarios": [
    {
      "id": 1,
      "name": "Botwoon",
      "boss": "Botwoon",
      "requires": null,
      "bossDodgeRate": 60,
      "attackOpportunityDuration": 30,
      "damageWindows": [
        {
          "name": "Base",
          "windowPercent": 16.7,
          "requires": null
        }
      ],
      "incomingDamage": [
        {
          "name": "BaseAcid",
          "attack": "acid",
          "frequencyFrames": 4000,
          "avoidingRequires": [
            "Gravity",
            "ScrewAttack"
          ],
          "note": "Acid is already pretty easy to avoid with Morph and Gravity (hence the low frequency), but with Screw attack it's absolutely trivial"
        },
        {
          "name": "GravityAcid",
          "attack": "acid",
          "frequencyFrames": 4000,
          "avoidingRequires": [
            "Gravity"
          ],
          "note": "Being suitless makes some acid situations much harder to dodge because you can't run out of the way"
        },
        {
          "name": "MorphAcid",
          "attack": "acid",
          "frequencyFrames": 3000,
          "avoidingRequires": [
            {"or":[
              "Morph",
              {"and":[
                "Gravity",
                "ScrewAttack"
              ]}
            ]}
          ],
          "note": "Not having Morph makes some acid dodges much harder, although having Screw Attack active makes those dodges trivial too."
        }
      ],
      "note": "Attack opportunity duration estimated to 30 to try to represent charged beam properly relative to ammo"
    },
    {
      "id": 11,
      "name": "StandardPhantoon",
      "boss": "Phantoon",
      "excludedWeapons": [
        "Super",
        "Charge+Ice+Wave+Spazer",
        "Charge+Plasma",
        "Charge+Ice+Plasma",
        "Charge+Wave+Plasma",
        "Charge+Ice+Wave+Plasma"
      ],
      "requires": null,
      "bossDodgeRate": 0,
      "attackOpportunityDuration": 20,
      "particleFrequencyFrames": 150,
      "damageWindows": [
        {
          "name": "Base",
          "windowPercent": 3.6,
          "requires": null
        }
      ],
      "incomingDamage": [
        {
          "name": "BaseFlame",
          "attack": "flame",
          "frequencyFrames": 1000,
          "avoidingRequires": [ "never" ]
        },
        {
          "name": "ScrewFlame",
          "attack": "flame",
          "frequencyFrames": 1000,
          "avoidingRequires": [ "ScrewAttack" ],
          "note": "Screw Attack makes avoiding damage in general much easier, so we'll have it prevent of half incoming damage"
        }
      ],
      "note": [
        "This is the scenario for a regular Phantoon fight, so all valid weapons except supers and charged shots whose damage is 300 or more (those end the round on the first shot).",
        "This scenario estimates roughly 25 seconds per round, each having 3 opportunities that last 20 frames (2 missiles or 1 charged shot).",
        "3 incoming hits per round (Half being prevent by Screw).",
        "10 flames farmed per round.",
        "This scenario expects that the player doesn't know when Phantoon will open its eye."
      ]
    },
    {
      "id": 12,
      "name": "BigChargePhantoon",
      "boss": "Phantoon",
      "explicitWeapons": [
        "Charge+Ice+Wave+Spazer",
        "Charge+Plasma",
        "Charge+Ice+Plasma",
        "Charge+Wave+Plasma",
        "Charge+Ice+Wave+Plasma"
      ],
      "requires": null,
      "bossDodgeRate": 0,
      "attackOpportunityDuration": 20,
      "particleFrequencyFrames": 150,
      "damageWindows": [
        {
          "name": "Base",
          "windowPercent": 1.2,
          "requires": null
        }
      ],
      "incomingDamage": [
        {
          "name": "BaseFlame",
          "attack": "flame",
          "frequencyFrames": 1000,
          "avoidingRequires": [ "never" ]
        },
        {
          "name": "ScrewFlame",
          "attack": "flame",
          "frequencyFrames": 1000,
          "avoidingRequires": [ "ScrewAttack" ],
          "note": "Screw Attack makes avoiding damage in general much easier, so we'll have it prevent of half incoming damage"
        }
      ],
      "note": [
        "This is the scenario for high-damage charged shots, which end the round on the first shot.",
        "This scenario estimates roughly 25 seconds per round, each having 1 opportunity that lasts 20 frames (so only 1 charged shot).",
        "3 incoming hits per round (Half being prevent by Screw).",
        "10 flames farmed per round.",
        "This scenario expects that the player doesn't know when Phantoon will open its eye."
      ]
    },
    {
      "id": 13,
      "name": "NintendoPowerPhantoon",
      "boss": "Phantoon",
      "explicitWeapons": ["Super"],
      "requires": null,
      "bossDodgeRate": 0,
      "attackOpportunityDuration": 20,
      "particleFrequencyFrames": 120,
      "damageWindows": [
        {
          "name": "Base",
          "windowPercent": 0.95,
          "requires": null
        }
      ],
      "incomingDamage": [
        {
          "name": "BaseFlame",
          "attack": "flame",
          "frequencyFrames": 1440,
          "avoidingRequires": [ "never" ]
        },
        {
          "name": "ScrewFlame",
          "attack": "flame",
          "frequencyFrames": 392,
          "avoidingRequires": [ "ScrewAttack" ],
          "note": "We're having Screw Attack prevent half of normal damage + all of the enrage damage, which ends up being almost 80% of all incoming damage"
        }
      ],
      "note": [
        "Five Super Missiles should do the trick!",
        "This scenario estimates roughly 36 seconds per round (but expecting only 4 enrage phases), each having 1 opportunity that last 20 frames (1 Super).",
        "3 incoming hits per round (Half being prevent by Screw), + 5 incoming hits per enrage phase (all of which are prevented by screw).",
        "So the player is expected to dodge one enrage wave out of 6.",
        "10 flames farmed per round, + 10 more per enrage phase.",
        "This scenario expects that the player doesn't know when Phantoon will open its eye"
      ]
    },
    {
      "id": 21,
      "name": "GravityDraygon",
      "boss": "Draygon",
      "requires": ["Gravity"],
      "bossDodgeRate": 0,
      "attackOpportunityDuration": 100,
      "particleFrequencyFrames": 540,
      "damageWindows": [
        {
          "name": "Base",
          "windowPercent": 11.11,
          "requires": null
        }
      ],
      "incomingDamage": [
        {
          "name": "Base",
          "attack": "contact",
          "frequencyFrames": 720,
          "avoidingRequires": [ "never" ]
        },
        {
          "name": "Turrets",
          "attack": "turretProjectile",
          "frequencyFrames": 1080,
          "avoidingRequires": [
            {"or":[
              {"ammo": {
                "type": "Missile",
                "count": 9
              }},
              {"ammo": {
                "type": "Super",
                "count": 3
              }}
            ]}
          ]
        }
      ],
      "note": [
        "This scenario estimates roughly 18 seconds per round.",
        "1 out of 5 rounds botched by goop.",
        "Successful rounds give one attack opportunity averaging 100 frames.",
        "Each round expects to see the player get hit 1.5 times.",
        "Player is expected to know how to break free of draygon's grasp when grabbed, but only at a moderate speed.",
        "Farming is almost non-existent because getting the drops would reduce the attack opportunity.",
        "Turret projectiles hit once per round if not taken out."
      ]
    },
    {
      "id": 22,
      "name": "SuitlessDraygon",
      "boss": "Draygon",
      "requires": [
        "canSuitlessMaridia",
        "Morph",
        {"or":[
          "Super",
          "Missile"
        ]}
      ],
      "bossDodgeRate": 0,
      "attackOpportunityDuration": 100,
      "particleFrequencyFrames": 540,
      "damageWindows": [
        {
          "name": "Base",
          "windowPercent": 5.55,
          "requires": null
        }
      ],
      "incomingDamage": [
        {
          "name": "Base",
          "attack": "contact",
          "frequencyFrames": 720,
          "avoidingRequires": [ "never" ]
        }
      ],
      "note": [
        "This scenario is pretty similar to the Gravity one, but is separate because it has to make additional assumptions.",
        "It expects twice as many rounds botched by goop.",
        "It assumes Morph is available and the turrets have been destroyed (and expects Draygon's requirements to hard-require those for a non-grapple suitless kill."
      ]
    }
  ]
}
